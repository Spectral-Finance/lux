#!/bin/bash

# =============================================================================
# Lux Development Environment Welcome Script
# =============================================================================
# This script provides a welcoming interface for developers when they access
# the Lux development environment. It displays:
# - The Lux and Spectral logos
# - Quick access instructions for different editors
# - Directory navigation hints
# - Important setup information for new codespaces
# =============================================================================

# Color definitions
CYAN=$'\e[36m'
BOLD=$'\e[1m'
RESET=$'\e[0m'
DIM=$'\e[2m'

# Function to show welcome message
show_welcome() {
    # Only show the message if we're not in the workspace directory
    if [[ "$PWD" != "/workspaces/lux"* ]]; then
        cat << 'LOGO' | sed "s/^/${CYAN}/"
                ██╗      ██╗   ██╗██╗  ██╗
                ██║      ██║   ██║╚██╗██╔╝
                ██║      ██║   ██║ ╚███╔╝ 
                ██║      ██║   ██║ ██╔██╗ 
                ███████╗ ╚██████╔╝██╔╝ ██╗
                ╚══════╝  ╚═════╝ ╚═╝  ╚═╝
    ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@@@,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,,,,,,,,,,,,,,/@,@@@%,,,,,,,,,,,,,,,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,,,,,,,,,,,,,@,,,@@@@@,,,,,,,,,,,,,,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,,,,,,,,,,,*%,,,,@@@@@@@,,,,,,,,,,,,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,,,,,,,,,,@,,,,,,@@@@@@@@,,,,,,,,,,,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,,,,,,,,#&,,,,,,,@@@@@@@@@&,,,,,,,,,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,,,,,,,@,,,,,,,,,@@@@@@@@@@@,,,,,,,,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,,,,,&#,,,,,,,,/&&,@@@@@@@@@@@,,,,,,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,,,,@,,,,,,,,,@,,@@,#@@@@@@@@@@,,,,,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,,&(,,,,,,,,#&,,,@@@@,@@@@@@@@@@@,,,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,@,,,,,,,,,@,,,,,@@@@@#,@@@@@@@@@@*,,,,,,,,,,,,,
    ,,,,,,,,,,,,@/,,,,,,,,&#,,,,,,@@@@@@@,&@@@@@@@@@@,,,,,,,,,,,,
    ,,,,,,,,,,,@,,,,,,,,,@,,,,,,,,@@@@@@@@@,@@@@@@@@@@,,,,,,,,,,,
    ,,,,,,,,,&*,,,,,,,,#(,,,,,,,,,@@@@@@@@@@#/@@@@@@@@@@,,,,,,,,,
    ,,,,,,,*@,,,,,,,,,@,,,,,,,,,,,@@@@@@@@@@@@,@@@@@@@@@@(,,,,,,,
    ,,,,,,@/,,,,,,#@@%@/,,,,,,,,,,@@@@@@@@@@@&,,,,*@@@@@@@@,,,,,,
    ,,,,*@,/@@/,,,,,,,,,,,@@,,,,,,@@@@@@%,*@@@@@@@@@@@&,,(@@#,,,,
    ,,,,@@,,,,,,,,,,,,,,,,,,,,#@(,@@,,@@@@@@@@@@@@@@@@@@@@@@@,,,,
    ,,,,,,,,(@(,,,,,,,,,,,,,,,,,,,@@@@@@@@@@@@@@@@@@@@@@%,,,,,,,,
    ,,,,,,,,,,,,,@@,,,,,,,,,,,,,,,@@@@@@@@@@@@@@@@@@,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,,,,/@%,,,,,,,,,,@@@@@@@@@@@@@#,,,,,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,,,,,,,,,&@*,,,,,@@@@@@@@@,,,,,,,,,,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,,,,,,,,,,,,,*@%,@@@@(,,,,,,,,,,,,,,,,,,,,,,,,,,
    ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

                           by

    ███████╗██████╗ ███████╗ ██████╗████████╗██████╗  █████╗ ██╗     
    ██╔════╝██╔══██╗██╔════╝██╔════╝╚══██╔══╝██╔══██╗██╔══██╗██║     
    ███████╗██████╔╝█████╗  ██║        ██║   ██████╔╝███████║██║     
    ╚════██║██╔═══╝ ██╔══╝  ██║        ██║   ██╔══██╗██╔══██║██║     
    ███████║██║     ███████╗╚██████╗   ██║   ██║  ██║██║  ██║███████╗
    ╚══════╝╚═╝     ╚══════╝ ╚═════╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝

                    https://github.com/Spectral-Finance/lux/
LOGO
        echo -e "${RESET}"
        echo -e "\n${CYAN}${BOLD}Welcome to Lux Development Environment!${RESET}\n"
        echo -e "To get started, open the workspace in your preferred editor:"
        echo -e "  ${CYAN}• Cursor:${RESET}  cursor /workspaces/lux"
        echo -e "  ${CYAN}• VSCode:${RESET}  code /workspaces/lux"
        echo -e "  ${CYAN}• Vim:${RESET}     vim /workspaces/lux"
        echo -e "\nOr change to the workspace directory:"
        echo -e "  cd /workspaces/lux\n"
        echo -e "${DIM}Note: If this is a new codespace, dev dependencies will be installed"
        echo -e "automatically when you open the workspace. This may take some time.${RESET}\n"
    fi
}

# Only show the welcome message if this is an interactive shell
if [[ $- == *i* ]]; then
    show_welcome
fi 